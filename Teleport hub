-- ü§ë EZ PETS ü§ë TELEPORT HUB (WITH GLOW TITLE + FIXED HIDE NAME + SUPER CLOSE TELEPORT + AUTO LEAVE 1s)
-- LocalScript (Executor / StarterPlayerScripts / StarterGui)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TweenService = game:GetService("TweenService")

-- ==== UI SETUP ====
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "EZPETS_TeleportHub"
screenGui.ResetOnSpawn = false
screenGui.Parent = game.CoreGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 250, 0, 300)
mainFrame.Position = UDim2.new(0.05, 0, 0.3, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.BackgroundTransparency = 0.1
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- ==== Title with Glow ====
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "ü§ëEZ PETSü§ë"
title.TextColor3 = Color3.fromRGB(0, 255, 0) -- neon green
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.Parent = mainFrame

-- Glow Stroke
local glow = Instance.new("UIStroke")
glow.Parent = title
glow.Color = Color3.fromRGB(0, 255, 0)
glow.Thickness = 2
glow.Transparency = 0.3

-- Extra duplicate glow (layered effect)
local glowClone = title:Clone()
glowClone.Parent = mainFrame
glowClone.TextColor3 = Color3.fromRGB(0, 200, 0)
glowClone.Position = UDim2.new(0,2,0,2) -- slight offset
glowClone.ZIndex = 0
glowClone.TextTransparency = 0.6

-- Animate glow (pulsing effect)
task.spawn(function()
	while task.wait(1) do
		TweenService:Create(glow, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
			Thickness = 3
		}):Play()
	end
end)

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0, 5)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.Parent = mainFrame

-- ==== Notification ====
local function showNotify(msg)
	local note = Instance.new("TextLabel")
	note.Size = UDim2.new(1, 0, 0, 30)
	note.BackgroundTransparency = 0.3
	note.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	note.Text = msg
	note.TextColor3 = Color3.fromRGB(255, 255, 255)
	note.Font = Enum.Font.GothamBold
	note.TextSize = 14
	note.Parent = mainFrame

	TweenService:Create(note, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	task.delay(2, function()
		TweenService:Create(note, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
		task.wait(0.5)
		note:Destroy()
	end)
end

-- ==== Auto Leave (1s only) ====
local function autoLeave(seconds)
	showNotify("‚ö†Ô∏è Leaving in "..seconds.."s")
	task.delay(seconds, function()
		LocalPlayer:Kick("üö™ EZ PETS Auto Leave")
	end)
end

-- ==== HIDE NAME FIX ====
local nameHidden = false

local function toggleName(hide)
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Head") then
		local head = LocalPlayer.Character.Head
		for _, v in pairs(head:GetChildren()) do
			if v:IsA("BillboardGui") then
				if hide then
					v:Destroy() -- tanggalin totally
				end
			end
		end
		local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			if hide then
				humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.None
			else
				humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.Viewer
			end
		end
	end
end

LocalPlayer.CharacterAdded:Connect(function(char)
	char:WaitForChild("Humanoid")
	char:WaitForChild("Head")
	task.wait(0.5)
	if nameHidden then
		toggleName(true)
	end
end)

-- ==== Button Creator ====
local function createBtn(text, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0.9, 0, 0, 35)
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.Text = text
	btn.AutoButtonColor = true
	btn.Parent = mainFrame
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)
	btn.MouseButton1Click:Connect(function() callback(btn) end)
	return btn
end

-- Hide Name Button
local hideNameBtn = createBtn("üôà Hide Name", function(self)
	nameHidden = not nameHidden
	toggleName(nameHidden)
	if nameHidden then
		self.Text = "üëÅ Show Name"
		showNotify("üôà Name Hidden")
	else
		self.Text = "üôà Hide Name"
		showNotify("üëÅ Name Visible")
	end
end)

-- Auto Leave (only 1s)
createBtn("üö™ Auto Leave (1s)", function()
	autoLeave(1)
end)

-- ==== Player List Teleport ====
local playerFrame = Instance.new("ScrollingFrame")
playerFrame.Size = UDim2.new(0.9, 0, 0, 120)
playerFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
playerFrame.ScrollBarThickness = 4
playerFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
playerFrame.CanvasSize = UDim2.new()
playerFrame.Parent = mainFrame
Instance.new("UICorner", playerFrame).CornerRadius = UDim.new(0,10)

local plLayout = Instance.new("UIListLayout")
plLayout.Padding = UDim.new(0, 4)
plLayout.Parent = playerFrame

local function refreshPlayerList()
	for _, c in pairs(playerFrame:GetChildren()) do
		if c:IsA("TextButton") then c:Destroy() end
	end
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer then
			local pBtn = Instance.new("TextButton")
			pBtn.Size = UDim2.new(1, -4, 0, 28)
			pBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
			pBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
			pBtn.Font = Enum.Font.GothamBold
			pBtn.TextSize = 13
			pBtn.Text = p.DisplayName .. " (@"..p.Name..")"
			pBtn.Parent = playerFrame
			Instance.new("UICorner", pBtn).CornerRadius = UDim.new(0,8)

			pBtn.MouseButton1Click:Connect(function()
				if p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
					LocalPlayer.Character:MoveTo(p.Character.HumanoidRootPart.Position)
					showNotify("üåÄ Teleported to "..p.DisplayName)
				else
					showNotify("‚ùå "..p.Name.." not available")
				end
			end)
		end
	end
end

refreshPlayerList()
Players.PlayerAdded:Connect(refreshPlayerList)
Players.PlayerRemoving:Connect(refreshPlayerList)
